<section class="component">
  <div class="make-appointment-component">
    <form [formGroup]="appointmentForm" (ngSubmit)="makeAppointment()" autocomplete="off">
      <mat-card>
        <mat-card-title>
          Make an appointment with a doctor
        </mat-card-title>
        <mat-card-content class="form-grid-content">

          <mat-form-field class="item1" appearance="outline">
            <mat-label>Choose a doctor</mat-label>
            <mat-select formControlName="doctorId">
              <mat-option *ngFor="let doctor of doctors" [value]="doctor.id">
                Dr {{doctor.firstname}} {{doctor.lastname}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field class="item2" appearance="outline">
            <mat-label>Choose a date</mat-label>
            <input matInput [matDatepicker]="picker" formControlName="date">
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>

          <mat-form-field class="item3" appearance="outline">
            <mat-label>Topic</mat-label>
            <input matInput formControlName="topic">
          </mat-form-field>

        </mat-card-content>
        <mat-card-actions align="end">
          <button mat-raised-button type="submit" color="primary">Send</button>
        </mat-card-actions>

        <div *ngIf="appointmentResponse">
          <h3>Appointment made successfully!</h3>
          <h4>Your code of medical diagnosis: {{appointmentResponse.diagnosisId}}</h4>
          <p>Save this code.</p>
          <p>You will be redirected in the moment to the page where you can see your diagnosis.</p>
        </div>

      </mat-card>
    </form>
  </div>
</section>
